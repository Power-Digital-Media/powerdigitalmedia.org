{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///E:/AntiGravity/First%20Project/Power%20Digital%20Media/power-digital-media-web/src/components/infrastructure/AnalyticsEngine.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { GoogleAnalytics, GoogleTagManager } from \"@next/third-parties/google\";\r\nimport Script from \"next/script\";\r\nimport { useEffect } from \"react\";\r\nimport { usePathname } from \"next/navigation\";\r\n\r\nexport default function AnalyticsEngine() {\r\n    const pathname = usePathname();\r\n\r\n    const PIXEL_ID = process.env.NEXT_PUBLIC_META_PIXEL_ID;\r\n    const GA_ID = process.env.NEXT_PUBLIC_GA_ID;\r\n    const GTM_ID = process.env.NEXT_PUBLIC_GTM_ID;\r\n\r\n    useEffect(() => {\r\n        if (PIXEL_ID && window.fbq) {\r\n            window.fbq('track', 'PageView');\r\n        }\r\n    }, [pathname, PIXEL_ID]);\r\n\r\n    return (\r\n        <>\r\n            {/* Google Stack */}\r\n            {GA_ID && <GoogleAnalytics gaId={GA_ID} />}\r\n            {GTM_ID && <GoogleTagManager gtmId={GTM_ID} />}\r\n\r\n            {/* Meta Pixel */}\r\n            {PIXEL_ID && (\r\n                <>\r\n                    <Script\r\n                        id=\"fb-pixel\"\r\n                        strategy=\"afterInteractive\"\r\n                        dangerouslySetInnerHTML={{\r\n                            __html: `\r\n                                !function(f,b,e,v,n,t,s)\r\n                                {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\r\n                                n.callMethod.apply(n,arguments):n.queue.push(arguments)};\r\n                                if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\r\n                                n.queue=[];t=b.createElement(e);t.async=!0;\r\n                                t.src=v;s=b.getElementsByTagName(e)[0];\r\n                                s.parentNode.insertBefore(t,s)}(window, document,'script',\r\n                                'https://connect.facebook.net/en_US/fbevents.js');\r\n                                fbq('init', '${PIXEL_ID}');\r\n                                fbq('track', 'PageView');\r\n                            `,\r\n                        }}\r\n                    />\r\n                    <noscript>\r\n                        <img\r\n                            height=\"1\"\r\n                            width=\"1\"\r\n                            style={{ display: \"none\" }}\r\n                            src={`https://www.facebook.com/tr?id=${PIXEL_ID}&ev=PageView&noscript=1`}\r\n                        />\r\n                    </noscript>\r\n                </>\r\n            )}\r\n        </>\r\n    );\r\n}\r\n\r\n// Add types for fbq\r\ndeclare global {\r\n    interface Window {\r\n        fbq: any;\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACpB,MAAM,WAAW,IAAA,iJAAW;IAE5B,MAAM;IACN,MAAM;IACN,MAAM;IAEN,IAAA,kNAAS,EAAC;QACN,IAAI,YAAY,OAAO,GAAG,EAAE;YACxB,OAAO,GAAG,CAAC,SAAS;QACxB;IACJ,GAAG;QAAC;QAAU;KAAS;IAEvB,qBACI;;YAEK,uBAAS,8OAAC,wLAAe;gBAAC,MAAM;;;;;;YAChC,wBAAU,8OAAC,yLAAgB;gBAAC,OAAO;;;;;;YAGnC,0BACG;;kCACI,8OAAC,yIAAM;wBACH,IAAG;wBACH,UAAS;wBACT,yBAAyB;4BACrB,QAAQ,CAAC;;;;;;;;;6CASQ,EAAE,SAAS;;4BAE5B,CAAC;wBACL;;;;;;kCAEJ,8OAAC;kCACG,cAAA,8OAAC;4BACG,QAAO;4BACP,OAAM;4BACN,OAAO;gCAAE,SAAS;4BAAO;4BACzB,KAAK,CAAC,+BAA+B,EAAE,SAAS,uBAAuB,CAAC;;;;;;;;;;;;;;;AAOpG"}}]
}