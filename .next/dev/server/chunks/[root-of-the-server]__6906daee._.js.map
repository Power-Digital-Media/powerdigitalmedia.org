{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///E:/AntiGravity/First%20Project/Power%20Digital%20Media/power-digital-media-web/src/lib/youtube.ts"],"sourcesContent":["import { google } from 'googleapis';\r\n\r\nconst youtube = google.youtube('v3');\r\n\r\n/**\r\n * Protocol: YouTube Discovery\r\n * This library handles the synchronized retrieval of high-velocity \r\n * production content directly from the YouTube Data API v3.\r\n */\r\n\r\nexport async function getLatestVideosFromPlaylist(playlistId: string, limit = 5) {\r\n    const apiKey = process.env.YOUTUBE_API_KEY;\r\n\r\n    if (!apiKey) {\r\n        console.warn(\"YouTube API Protocol: Missing API Key. Check environment variables.\");\r\n        return [];\r\n    }\r\n\r\n    try {\r\n        const response = await youtube.playlistItems.list({\r\n            key: apiKey,\r\n            playlistId: playlistId,\r\n            part: ['snippet', 'contentDetails'],\r\n            maxResults: limit,\r\n        });\r\n\r\n        return response.data.items?.map(item => ({\r\n            id: item.contentDetails?.videoId,\r\n            title: item.snippet?.title,\r\n            description: item.snippet?.description,\r\n            thumbnail: item.snippet?.thumbnails?.high?.url || item.snippet?.thumbnails?.default?.url,\r\n            publishedAt: item.snippet?.publishedAt,\r\n        })) || [];\r\n    } catch (error) {\r\n        console.error(\"YouTube Protocol Breach:\", error);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function getLatestVideosFromChannel(channelId: string, limit = 5) {\r\n    const apiKey = process.env.YOUTUBE_API_KEY;\r\n\r\n    if (!apiKey) return [];\r\n\r\n    try {\r\n        const response = await youtube.search.list({\r\n            key: apiKey,\r\n            channelId: channelId,\r\n            part: ['snippet'],\r\n            order: 'date',\r\n            maxResults: limit,\r\n            type: ['video'],\r\n        });\r\n\r\n        return response.data.items?.map(item => ({\r\n            id: item.id?.videoId,\r\n            title: item.snippet?.title,\r\n            thumbnail: item.snippet?.thumbnails?.high?.url,\r\n            publishedAt: item.snippet?.publishedAt,\r\n        })) || [];\r\n    } catch (error) {\r\n        console.error(\"YouTube Channel Protocol Breach:\", error);\r\n        return [];\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,UAAU,+JAAM,CAAC,OAAO,CAAC;AAQxB,eAAe,4BAA4B,UAAkB,EAAE,QAAQ,CAAC;IAC3E,MAAM,SAAS,QAAQ,GAAG,CAAC,eAAe;IAE1C,IAAI,CAAC,QAAQ;QACT,QAAQ,IAAI,CAAC;QACb,OAAO,EAAE;IACb;IAEA,IAAI;QACA,MAAM,WAAW,MAAM,QAAQ,aAAa,CAAC,IAAI,CAAC;YAC9C,KAAK;YACL,YAAY;YACZ,MAAM;gBAAC;gBAAW;aAAiB;YACnC,YAAY;QAChB;QAEA,OAAO,SAAS,IAAI,CAAC,KAAK,EAAE,IAAI,CAAA,OAAQ,CAAC;gBACrC,IAAI,KAAK,cAAc,EAAE;gBACzB,OAAO,KAAK,OAAO,EAAE;gBACrB,aAAa,KAAK,OAAO,EAAE;gBAC3B,WAAW,KAAK,OAAO,EAAE,YAAY,MAAM,OAAO,KAAK,OAAO,EAAE,YAAY,SAAS;gBACrF,aAAa,KAAK,OAAO,EAAE;YAC/B,CAAC,MAAM,EAAE;IACb,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,EAAE;IACb;AACJ;AAEO,eAAe,2BAA2B,SAAiB,EAAE,QAAQ,CAAC;IACzE,MAAM,SAAS,QAAQ,GAAG,CAAC,eAAe;IAE1C,IAAI,CAAC,QAAQ,OAAO,EAAE;IAEtB,IAAI;QACA,MAAM,WAAW,MAAM,QAAQ,MAAM,CAAC,IAAI,CAAC;YACvC,KAAK;YACL,WAAW;YACX,MAAM;gBAAC;aAAU;YACjB,OAAO;YACP,YAAY;YACZ,MAAM;gBAAC;aAAQ;QACnB;QAEA,OAAO,SAAS,IAAI,CAAC,KAAK,EAAE,IAAI,CAAA,OAAQ,CAAC;gBACrC,IAAI,KAAK,EAAE,EAAE;gBACb,OAAO,KAAK,OAAO,EAAE;gBACrB,WAAW,KAAK,OAAO,EAAE,YAAY,MAAM;gBAC3C,aAAa,KAAK,OAAO,EAAE;YAC/B,CAAC,MAAM,EAAE;IACb,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,oCAAoC;QAClD,OAAO,EAAE;IACb;AACJ"}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///E:/AntiGravity/First%20Project/Power%20Digital%20Media/power-digital-media-web/src/app/api/youtube/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport { getLatestVideosFromPlaylist, getLatestVideosFromChannel } from '@/lib/youtube';\r\n\r\nexport async function GET(request: Request) {\r\n    const { searchParams } = new URL(request.url);\r\n    const type = searchParams.get('type'); // 'playlist' or 'channel'\r\n    const id = searchParams.get('id');\r\n\r\n    if (!id) {\r\n        return NextResponse.json({ error: 'Missing ID protocol' }, { status: 400 });\r\n    }\r\n\r\n    try {\r\n        let data;\r\n        if (type === 'playlist') {\r\n            data = await getLatestVideosFromPlaylist(id);\r\n        } else {\r\n            data = await getLatestVideosFromChannel(id);\r\n        }\r\n\r\n        return NextResponse.json(data);\r\n    } catch (error) {\r\n        return NextResponse.json({ error: 'Ecosystem Bridge Failure' }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAgB;IACtC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,OAAO,aAAa,GAAG,CAAC,SAAS,0BAA0B;IACjE,MAAM,KAAK,aAAa,GAAG,CAAC;IAE5B,IAAI,CAAC,IAAI;QACL,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAsB,GAAG;YAAE,QAAQ;QAAI;IAC7E;IAEA,IAAI;QACA,IAAI;QACJ,IAAI,SAAS,YAAY;YACrB,OAAO,MAAM,IAAA,sJAA2B,EAAC;QAC7C,OAAO;YACH,OAAO,MAAM,IAAA,qJAA0B,EAAC;QAC5C;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAClF;AACJ"}}]
}